# 组合模式
## 1.定义
> 将对象组合成树形结构以表示"部分-整体"的层次结构，使得用户对单个对象和组合对象的使用具有一致性
## 2.应用
### 2.1 优点
> 高层模块调用简单
> > 一颗树形结构中的所有节点都是Component，局部和整体对调用者来说没有任何区别，也就是说，
> > 高层模块不必关心自己处理的是单个对象还是整个组合结构，简化了高层模块的代码
> 节点自由增加
> > 使用了组合模式之后，如果想增加一个树枝节点或者叶子节点都很容易。容易扩展，符合开闭原则。
### 2.2 缺点
> 在场景中，树叶和树枝使用时直接使用了实现类。与依赖倒置原则冲突。限制了接口的影响范围。
### 2.3 使用场景
> 维护和展示部分-整体关系的场景，如树形菜单、文件和文件夹管理
> 
> 从一个整体中能够独立出部分模块或功能的场景
### 3 扩展
#### 3.1 真实的组合模式
> 真实的组合模式实际上是在项目中使用关系型数据库来存储这些信息。
> 
> 可以从数据库中直接提取出哪些人要分配到树枝，哪些人要分配到树叶，树枝、树叶的关系等，这些都是由相关的业务人员维护到数据库中的。
#### 3.2 透明的组合模式
> 组合模式有两种不同的实现：透明模式和安全模式，上面是安全模式
> 
> 透明模式是把用来组合使用的方法放到抽象类中，比如add(),remove()以及getChildren等方法。不管是叶子对象还是树枝对象都有相同的结构，通过判断是
> getChildren的返回值确认是叶子结点还是树枝节点。
> 不是很建议，如果处理不当。这个会在运行期间出现问题。
#### 3.3 组合模式的遍历
> Corp 里增加了 添加父节点和查找父节点的两个方法
