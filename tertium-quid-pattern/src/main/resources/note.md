# 中介者模式
## 定义
> 用一个中介对象分装一系列的对象交互，中介者使各对象不需要显示的相互作用
> 从而使其耦合松散，而且可以独立地改变他们之间的交互
## 组成
### Mediator 抽象中介者角色
> 抽象中介者角色定义统一的接口，用于各同事角色之间的通信
### Concrete Mediator 具体中介者角色
> 具体中介者角色通过协调各同事角色实现协作行为，因此他必须依赖于各个同事角色
### Colleague 同事角色
> 每一个同事角色都知道中介者角色，而且与其他的同事角色通信的时候，一定要通过中介者
> 角色协作。
> 
> 每个同事类的行为为两种：
> 
> 一种是同事本身的行为，比如改变对象本身的状态，处理自己的行为等，
> 这种行为叫做自发行为。与其他的同事类或中介者没有任何的依赖。
> 
> 第二种是必须依赖中介者才能完成的行为，叫做依赖方法
## 应用
### 优点
> 中介者模式的优点就是减少类间的依赖，把原有的一对多的依赖变成了一对一的依赖，
> 同事类只依赖中介者，减少了依赖，当然同时也降低了类间的耦合
### 缺点
> 中介者模式的缺点就是中介者膨胀的很大，而且逻辑复杂，原本N个对象直接的相互依赖关系转化为中介者和同事类的依赖关系，同事类越多，中介者的逻辑就越复杂。
### 使用场景
> 类之间的依赖关系是必然存在的，一个类依赖多个类的情况也是存在的。存在即合理。
> 但是不能说只要有多个依赖关系就考虑使用中介者模式。
> 
> 因为中介者模式未必能把原本凌乱的逻辑整理的清清楚楚，它是有缺点的，
> 
> 比如原本就简单的几个对象依赖关系，如果为了使用模式而加入了中介者，必然导致中介者的逻辑复杂化。
>
> 因此中介者模式的使用需要量力而行，它适用于多个对象之间紧密耦合的情况。
> 
> 紧密耦合的标准是，在类图中出现了蜘蛛网状结构。在这种情况下要考虑使用中介者模式，这有利于把蜘蛛网梳理成星型结构
> 使原本复杂混乱的关系变得清晰简单。
## 实际应用
> 机场调度中心
> MVC框架
> 媒体网关
> 中介服务
## 最佳实践
> N个对象之间产生了相互的依赖关系（N>2)
> 多个对象有依赖关系，但是依赖额行为尚不确定或者有发生改变的可能，在这种情况下一般建议采用中介者模式，降低变更引起的风险扩散。
> 产品开发。一个明显的例子就是MVC框架
